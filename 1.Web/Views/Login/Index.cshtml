@model Web.Models.LoginViewModel
@{
    ViewData["Title"] = "登入頁面";
}
@section Styles{
    <!-- FONT AWESOME-->
    <link rel="stylesheet" href="~/vendor/@@fortawesome/fontawesome-free-webfonts/css/fa-brands.css">
    <link rel="stylesheet" href="~/vendor/@@fortawesome/fontawesome-free-webfonts/css/fa-regular.css">
    <link rel="stylesheet" href="~/vendor/@@fortawesome/fontawesome-free-webfonts/css/fa-solid.css">
    <link rel="stylesheet" href="~/vendor/@@fortawesome/fontawesome-free-webfonts/css/fontawesome.css">
    <!-- SIMPLE LINE ICONS-->
    <link rel="stylesheet" href="~/vendor/simple-line-icons/css/simple-line-icons.css">
    <!-- =============== APP STYLES ===============-->
    @*<link rel="stylesheet" href="css/app.css" id="maincss">*@
}
<div class="row">
    <div class="col-4"></div>
    <div class="col-4">
        <div class="wrapper">
            <div class="block-center mt-4 wd-xl">
                <!-- START card-->
                <div class="card card-flat">
                    <div class="card-header text-center bg-dark">
                        <a href="#">
                            <img class="block-center rounded" src="img/logo.png" alt="Image">
                        </a>
                    </div>
                    <div class="card-body">
                        <p class="text-center py-2">登入後繼續</p>
                        <form class="mb-3" id="loginForm" novalidate>
                            <div class="form-group">
                                <div class="input-group with-focus">
                                    @*<input class="form-control border-right-0" id="exampleInputEmail1" type="text" placeholder="Enter email" autocomplete="off" required>*@
                                    @Html.TextBoxFor(x => x.Account, new { @class = "form-control border-right-0", @placeholder = "帳號" })
                                    <span asp-validation-for="Account" class="form-text text-danger"></span>
                                    <div class="input-group-append">
                                        <span class="input-group-text text-muted bg-transparent border-left-0">
                                            <em class="fa fa-user"></em>
                                        </span>
                                    </div>
                                </div>
                            </div>
                            <div class="form-group">
                                <div class="input-group with-focus">
                                    @*<input class="form-control border-right-0" id="exampleInputPassword1" type="password" placeholder="Password" required>*@
                                    @Html.PasswordFor(x => x.Password, new { @class = "form-control border-right-0", @placeholder = "密碼" })
                                    <span asp-validation-for="Password" class="form-text text-danger"></span>
                                    <div class="input-group-append">
                                        <span class="input-group-text text-muted bg-transparent border-left-0">
                                            <em class="fa fa-lock"></em>
                                        </span>
                                    </div>
                                </div>
                            </div>
                            <div class="clearfix">
                                <div class="checkbox c-checkbox float-left mt-0">
                                    <label>
                                        @*<input type="checkbox" value="" id="IsRemeber" name="IsRemeber">*@
                                        @Html.CheckBoxFor(x => x.IsRemeber)
                                        <span class="fa fa-check"></span> 記住我
                                    </label>
                                </div>
                                <div class="float-right">
                                    <a class="text-muted" asp-action="ForgetPassword" asp-controller="Login">忘記密碼?</a>
                                </div>
                            </div>
                            <button id="btnSubmit" class="btn btn-block btn-primary mt-3" type="submit">登入</button>
                        </form>
                        <a class="btn btn-block btn-secondary" asp-action="Register" asp-controller="Login">馬上註冊</a>
                    </div>
                </div>
                <!-- END card-->
                <div class="p-3 text-center">
                    <span class="mr-2">&copy;</span>
                    <span>2021</span>
                    <span class="mr-2">-</span>
                    <span>RJG Blog</span>
                    <br>
                    <span>歡迎!</span>
                </div>
            </div>
        </div>
    </div>
    <div class="col-4"></div>
</div>

@section Scripts{
    <script>
        $('#loginForm').submit(function (e) {
            //Validation
            e.preventDefault();
            var $form = $(this);
            var isVal = $form.validate().form();
            console.log(isVal);
            if (!isVal) return false;
            //Ajax
            var postObj = {
                Account: $("#Account").val(),
                Password: $("#Password").val(),
                IsRemeber: $("#IsRemeber").prop("checked")
            };
            postAjaxGetAlert(postObj, '@Url.Action("Test","Login")')
        });
    </script>
}